0 a manual for computer program on a vortex approach for unsteady insect flight analysis in 3d tombo v4 mitch denda rutgers university mechanical and aerospace engineering department 98 brett road piscataway new jersey 088548058 usa february 16 2024 abstract a manual for tombom is given a installation unzip tombov4zip into a folder of your choice open matlab and go to the main tombo folder where you find tombom at home tab go to environment section to set path select add with subfolders and choose tombo v4 folder click save and close the set path window modify the input parameters in tombom click tombom to run or type tombo in the command window go to fig folder for the outputs if your curve fitting toolbox is missing then go to matlab site download it and install 1 b key features thin 3d airfoil by the discrete vortex method motion path consists of the flapping and rotation which is specified based on the insect morphology and flight data tombo uses the global coordinate system c key terminology and convention select from 3d airfoil mesh generator functions smesh 1 tapered symmetric tapered rectangular and rectangular wings cambered tapered rectangular wings camber can be in 2 directions 2 5 sided tapered general no camber 3 6 sided two four sided regions no camber element structure edge elements occupying the border strips located along the outer boundary to be shed center elements element function shed elements edge elements outer elements bound elements center elements wing indexing forward and rear f r m both four wings 1 2 3 4 twall two wings 1 2 w all element count nxb m of shed edge elements nxc m of center elements nxt m of total elements d sample startup procedure 1 istep1 2 calculate the bound vortices the bound vortices located on the wing surfaces consist of two groups free vortices or edge elements that are shed into the wake and the center elements that stay attached on the surface edge elements form a narrow closed strip bounding the wind surface area see figure 2 there are no wake vortices which are vortices previously shed in the wake calculate impulses and plot wake vortices here is none calculate convecting velocities convect free vortices bound edge vortices to generate wake vortices move the wing to a new position for istep2 2 istep2 calculate the intensity of the bound vortices using the wake vortices from istep1 calculate the impulses and plot wake vortices there are four closed ribbon shaped vortices each of which comes from the edge elements of four wings calculate the convection velocities convect free vortices free vortices consist of the bound edge and shed wake vortices move the wing to a new position for istep3 3 istep3 1 time parameters time specification 1multiple times 2time marching stime 2 time increment and of time steps 3 figure 1 wing mesh edge elements and center elements edge elements will be shed into the wake after each step center elements remain bounded on the wing figure 2 four wake vortex ribbons after istep 1 and before the end of istep 2 these ribbons were originally attatched to the four wings as edge elements 4 dt 01 9for higher values of p use smaller value of dt nstep 4 2 debugging parameters how to specify the file path folder fig open an output file fidfopenfolder outputtxtw linear equation solver 0 forward elimbackward sub 1backslash solver 0 system of equations debug print vnvncgama 0no print 1print idebug 1 mplot airfoil mesh plot mesh plot 0 no 1yes 2compare equal arc and equal abscissa mesh points mplot 1 vplotairfoil normal velocity plot vplot 0no 1yes vplot 1 wplot wake vortex plot 0no 1yes wplot 1 3 input parameters dimensional quantities are input they are indicated by an under score following the quantity of interest 5 z z zb z z y yb y y y β g g o o x x x x xb a b figure 3 a spacefixed o xyz and wingfixed g xy zcoordinate systems b spacefixed o xyz bodyfixed g xb yb zb and translating g xyzcoordinate systems 31 body geometry of wings twing 4 nwing twing2 body angle degree delta 0 wing location cm f fore wing r rear wing b f 15 b r 15 make sure b f 0 b r 0 32 wing geometry right left wings have the same geometry the right wing is introduced first in the wingfixed system then the spacefixed description of the right wing is obtained finally the left wing is introduced as the mirror image of the right wing in the spacefixed description front and rear wings have different geometry 6 front wing with subscript f xb f j n i border element coordinates nxb f of border elements nb f j i unit normal to the border elements xc f j n i center element coordinates nxc f of center elements nc f j i unit normal to the center elements l f span c f chord h f border height rear wing with subscript r xb rj n i border element coordinates nxb r of border elements nb rj i unit normal to the border elements xc rj n i center element coordinates nxc r of center elements nc rj i unit normal to the center elements l r span c r chord h r border height these parameters are calculated by function wing xb f nxb f nb f xc f nxc f nc f l f c f hf xb r nxb r nb r xc r nxr nc r l r c r h r w i key parameters to be specified in function wing 7 front wing hfactor f01 ratio of the height of the edge element to the chord length wfactor f3 ratio of the width of the edge element to its height xb f nxb f n b f xc f nxc f n c f l f c f tbs5m esh1 2 2 30 hf actor f wf act rear wing hfactor f01 wfactor r3 xb r nxb r n b r xc r nxc r n c r l r c r tbs5m esh2 1 1 30 hf actor r wf actor function xb nxb n b xc nxc n c lo co tbs5m eshw lt lr bang hf ac wf ac w 1forward 2rear wing lt tapered section wing span cm lr square section wing span cm bang base angle deg 33 wing motion parameters different between frontright1 frontleft2 rearright3 rearleft4wings 8 l φt φb l sin φt l sin φb stroke plane figure 4 the stroke plane view of the wings topmost ϕt and bottommost ϕb positions wings on left and right sides are shown each at the extreme positions γ γm pronation spination 0 t2 t t pronation γm figure 5 perfect pronation and supination 9 stroke angles degrees fig 4 phit 1 80 phit 2 80 phit 3 80 phit 4 80 phib 1 45 phib 2 45 phib 3 45 phib 4 45 a rotation axis offset cm fig 3 a 1 0 a 2 0 a 3 0 a 4 0 beta stroke plane angle degrees wrt the body axis fig beta 1 90 beta 2 90 beta 3 90 beta 4 90 f flapping frequency 1sec f 1 30 f 2 30 f 3 30 f 4 30 gmax max rotationpitch degrees fig 5 gmax 1 30 gmax 2 30 gmax 3 30 gmax 4 30 p rotationpitch speed parameter nondimentional nondimensional parameters are given dimensional parameters p i are calculated by 05 t i pi def pi p i05 t i nondimensionalized by its own period p1 p 1t ref but p2 p 2t ref p3 p 3t ref p4 p 4t ref where t ref is the rfeerence time p must be bigger than 4 p1 5 p2 5 p3 5 p4 5 10 rtoff rotation timing offset nondimentional fig 6 dimensional parameters rtof f i are calculated by 05 t i rtof f i def rtof f i rtof f i05 t i nondimensionalized by its own period rtof f 1 rtof f 1t ref but rtof f 2 rtof f 2t ref rtof f 3 rtof f 3t ref rtof f 4 rtof f 4t ref where t ref is the refeerence time rtoff 0advanced rtoff 0symmetric rtoff 0delayed 05 rtoff 05 rtoff1 00 rtoff2 00 rtoff3 00 rtoff4 00 tau phase shift for the time 0start from top 0 tau 1 in between start with down stroke 1bottom 1 tau 2 in between start with up stroke 2top 0 tau 2 tau1 00 tau2 00 tau3 00 tau4 00 mpath motion path parameter 0no tail 1 dutail 2eriods 2udtail 2 periods 3dudutail 4 periods 4ududtail 4 periods mpath1 0 mpath2 0 mpath3 0 mpath4 0 11 γm 0 t2 t t γm figure 6 smoothed pitch motion with symmetric solid advanced dashed and delayed dotted pitch 34 fluid parameters air density rho 0001225gcm3 ambient velocity cmsec assume constant can be interpreted as the flight velocity when the wind is calm u 1 100 v 2 00 v 3 00 distance between the source and the observation point to be judged as zero eps 10e 10 eps 10e 3 for 2d 12